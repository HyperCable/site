<!DOCTYPE html>
<html lang="en">

<head>
  <title>ga test</title>
  <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
  <script type="text/javascript">
(function(f,b){if(!b.__SV){var e,g,i,h;window.mixpanel=b;b._i=[];b.init=function(e,f,c){function g(a,d){var b=d.split(".");2==b.length&&(a=a[b[0]],d=b[1]);a[d]=function(){a.push([d].concat(Array.prototype.slice.call(arguments,0)))}}var a=b;"undefined"!==typeof c?a=b[c]=[]:c="mixpanel";a.people=a.people||[];a.toString=function(a){var d="mixpanel";"mixpanel"!==c&&(d+="."+c);a||(d+=" (stub)");return d};a.people.toString=function(){return a.toString(1)+".people (stub)"};i="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" ");
for(h=0;h<i.length;h++)g(a,i[h]);var j="set set_once union unset remove delete".split(" ");a.get_group=function(){function b(c){d[c]=function(){call2_args=arguments;call2=[c].concat(Array.prototype.slice.call(call2_args,0));a.push([e,call2])}}for(var d={},e=["get_group"].concat(Array.prototype.slice.call(arguments,0)),c=0;c<j.length;c++)b(j[c]);return d};b._i.push([e,f,c])};b.__SV=1.2;e=f.createElement("script");e.type="text/javascript";e.async=!0;e.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?
MIXPANEL_CUSTOM_LIB_URL:"file:"===f.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";g=f.getElementsByTagName("script")[0];g.parentNode.insertBefore(e,g)}})(document,window.mixpanel||[]);

// Enabling the debug mode flag is useful during implementation,
// but it's recommended you remove it for production
mixpanel.init('6e566c466feb54aab26b5a08cfb09ddd', {debug: true}); 
mixpanel.track('Sign up');
</script>
  <script src="https://giscus.app/client.js"
        data-repo="hooopo/gharchive"
        data-repo-id="R_kgDOGYZudg"
        data-category="Announcements"
        data-category-id="DIC_kwDOGYZuds4CAw6F"
        data-mapping="pathname"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-theme="preferred_color_scheme"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async>
</script>
  <script async defer data-website-id="20acb0c5-bf2f-4290-9e8f-f313ead41462" src="http://localhost:3000/umami.js"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PNZP5LK&l=dataLayer&cx=c&dbg=33"></script>
  <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JEX4JP2G1E", { transport_url: 'http://localhost:8000/a8f4c70c-cf21-4e19-a218-6533d682717a' })</script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('config', 'G-JEX4JP2G1E', { transport_url: 'http://localhost:8000/a8f4c70c-cf21-4e19-a218-6533d682717a' });
    var scripts = [
      `gtag('js', new Date());`,

      `gtag('set', 'user_properties', {
          favorite_composer: 'Mahler',
          favorite_instrument: 'double bass',
          season_ticketholder: 'true'
        });`,
      `gtag('config', 'G-JEX4JP2G1E', {
          'user_id': 'USER_ID',
          'hello': 'world',
          'coun.try': 'cn',
          transport_url: 'http://localhost:8000/a8f4c70c-cf21-4e19-a218-6533d682717a'
        });`,

      `gtag('event', 'add_to_cart', {
          currency: 'USD',
          items: [{
            id: "P12345",
            name: "~nmAndroid Warhol T-Shirt~br",
            brand: "Google",
            category: "Apparel/T-Shirts",
            coupon: "SUMMER_DISCOUNT",
            list_name: "Search Results",
            list_position: 1,
            price: 14.99,
            quantity: 2,
            variant: "Black"
          }],
          value: 29.98
        });`,

      `gtag("event", "myevent", {
          value: 29.98,
          coupon: "SUMMER_DISCOUNT",
          currency: "USD",
          i: JSON.stringify([1, 2, 3]),
          j: JSON.stringify({ id: 111, name: 222 }),
          k: 3,
          items: JSON.stringify([
            {
              id: "P12345",
              name: "Android Warhol T-Shirt",
              list_name: "Search Results",
              brand: "Google",
              category: "Apparel/T-Shirts",
              coupon: "SUMMER_DISCOUNT",
              variant: "Black",
              list_position: 1,
              quantity: 2,
              price: 14.99
            }
          ])
        });`,

      `gtag('event', 'add_to_wishlist', {
          currency: 'USD',
          items: [{
            id: "P12345",
            name: "Android Warhol T-Shirt",
            brand: "Google",
            category: "Apparel/T-Shirts",
            coupon: "SUMMER_DISCOUNT",
            list_name: "Search Results",
            list_position: 1,
            price: 14.99,
            quantity: 2,
            variant: "Black"
          }],
          value: 29.98
        });
        `,

      `gtag("event", "begin_checkout", {
          value: 29.98,
          coupon: "SUMMER_DISCOUNT",
          currency: "USD",
          items: [
            {
              id: "P12345",
              name: "Android Warhol T-Shirt",
              list_name: "Search Results",
              brand: "Google",
              category: "Apparel/T-Shirts",
              coupon: "SUMMER_DISCOUNT",
              variant: "Black",
              list_position: 1,
              quantity: 2,
              price: 14.99
            }
          ]
        });
        `,

      `gtag("event", "checkout_progress", {
          coupon: "SUMMER_DISCOUNT",
          currency: "USD",
          checkout_option: "Google Pay",
          checkout_step: 1,
          value: 29.98,
          items: [
            {
              id: "P12345",
              name: "Android Warhol T-Shirt",
              brand: "Google",
              category: "Apparel/T-Shirts",
              coupon: "SUMMER_DISCOUNT",
              list_name: "Search Results",
              list_position: 1,
              price: 14.99,
              quantity: 2,
              variant: "Black"
            }
          ]
        });
        `,

      `gtag('event', 'exception', {
          description: 'Missing required field.',
          fatal: true
        });`,

      `gtag('event', 'generate_lead', {
          currency: 'USD',
          value: 99.99
        });
        `,

      `gtag('event', 'login', {
          non_interaction: true,
          method: 'Google'
        });`,

      `gtag('event', 'page_view', {
          page_location: 'https://example.com/about',
          page_path: '/about',
          page_title: 'About'
        });
        `,

      `gtag("event", "purchase", {
          affiliation: "Google online store",
          coupon: "SUMMER_DISCOUNT",
          currency: "USD",
          shipping: 5.55,
          tax: 3.33,
          transaction_id: "T_1",
          value: 28.86,
          items: [
            {
              id: "P12345",
              name: "Android Warhol T-Shirt",
              coupon: "P12345_coupon",
              list_name: "Search Results",
              brand: "Google",
              category: "Apparel/T-Shirts",
              variant: "Black",
              list_position: 3,
              quantity: 1,
              price: 9.99
            },
            {
              id: "P12346",
              name: "Flame challenge TShirt",
              coupon: "P12346_coupon",
              list_name: "Search Results",
              brand: "MyBrand",
              category: "Apparel/T-Shirts",
              variant: "Red",
              list_position: 5,
              quantity: 1,
              price: 9.99
            }
          ]
        });`,

      `gtag('event', 'refund', {
          coupon: "SUMMER_DISCOUNT",
          currency: "USD",
          shipping: 5.55,
          tax: 3.33,
          transaction_id: "T_12345",
          value: 28.86,
          items: [
            {
              id: "P12345",
              coupon: "P12345_coupon",
              name: "Android Warhol T-Shirt",
              list_name: "Search Results",
              brand: "Google",
              category: "Apparel/T-Shirts",
              variant: "Black",
              list_position: 3,
              quantity: 1,
              price: 9.99
            },
            {
              id: "P12346",
              coupon: "P12346_coupon",
              name: "Flame challenge TShirt",
              list_name: "Search Results",
              brand: "MyBrand",
              category: "Apparel/T-Shirts",
              variant: "Red",
              list_position: 5,
              quantity: 1,
              price: 9.99
            }
          ]
        });`,

      `gtag('event', 'screen_view', {
          screen_name: 'About'
        });`,

      `gtag('event', 'search', {
          search_term: 't-shirts'
        });`,
    ];
    window.addEventListener('load', () => {
      const container = document.getElementById('section');
      scripts.map((item, index) => {
        const card = document.createElement('div');
        card.classList = 'w-xl m-4 p-10 bg-white rounded shadow-xl';
        const el = document.createElement('textarea');
        el.classList = 'autoexpand tracking-wide py-2 px-4 mb-3 leading-relaxed appearance-none block w-full bg-gray-200 border border-gray-200 rounded focus:outline-none focus:bg-white focus:border-gray-500';
        el.id = 'code-' + index;
        el.rows = 5;
        el.value = `${item}`;
        const evalBtn = document.createElement('button');
        evalBtn.classList = 'btn-primary transition duration-300 ease-in-out focus:outline-none focus:shadow-outline bg-purple-700 hover:bg-purple-900 text-white font-normal py-2 px-4 mr-1 rounded';
        evalBtn.onclick = () => {
          console.log(el.value);
          eval(el.value);
        };
        evalBtn.innerText = 'eval';
        card.appendChild(el);
        card.appendChild(evalBtn);
        container.appendChild(card);
      })
    })
  </script>
</head>

<body class="bg-gray-100">
  <h1>GTM transport_url demo</h1>

  <pre>
  <code>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('config', 'G-JEX4JP2G1E', { transport_url: 'http://localhost:8000/a8f4c70c-cf21-4e19-a218-6533d682717a' });
  </code>
</pre>

  <section id="section">

  </section>
  <div class="bg-gray-50">
  <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8 lg:flex lg:items-center lg:justify-between">
    <h2 class="text-3xl font-extrabold tracking-tight text-gray-900 sm:text-4xl">
      <span class="block">Ready to dive in?</span>
      <span class="block text-indigo-600">Start your free trial today.</span>
    </h2>
    <div class="mt-8 lex lg:mt-0 lg:flex-shrink-0">
      <div class="inline-flex rounded-md shadow">
        <a id='get_start' href="/site/?to=get-start" class="inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700">
          Get started
        </a>
      </div>
      <div class="ml-3 inline-flex rounded-md shadow">

        <a id='learn_more' href="http://localhost:3000" class="inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-indigo-600 bg-white hover:bg-indigo-50">
          Localhost
        </a>
      </div>
    </div>
  </div>
</div>

</body>

</html>
